<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>タイピング練習（テンプレート）</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <!--
      このページは「タイピング練習の最小テンプレート」です。

      仕組み（全体像）:
      - HTML: 画面に出す部品（問題文、ボタン、成績）を置く
      - CSS: 見た目（色、余白、フォント、強調表示）を決める
      - JavaScript: キーボード入力を受け取り、正誤判定して画面を更新する
    -->

    <div class="bg" aria-hidden="true">
      <div class="bgLayer layer1"></div>
      <div class="bgLayer layer2"></div>
      <div class="bgLayer layer3"></div>
      <div class="bgLayer layer4"></div>
      <div class="bgLayer layer5"></div>
      <div class="bgLayer layer6"></div>
      <div class="bgLayer layer7"></div>
      <div class="bgLayer layer8"></div>
      <div class="bgLayer layer9"></div>
    </div>

    <main class="app" aria-label="タイピング練習アプリ">
      <header class="header">
        <h1 class="title">タイピング練習（テンプレート）</h1>
        <p class="subtitle">
          キーボード入力で練習できます。Escでリセット、Enterで次の問題。
        </p>
      </header>

      <section class="panel" aria-label="設定">
        <div class="row">
          <label class="field">
            <span class="label">問題セット</span>
            <select id="modeSelect" class="control" aria-label="問題セット">
              <option value="romaji">ローマ字</option>
              <option value="custom">カスタム</option>
            </select>
          </label>

          <label class="field">
            <span class="label">大文字小文字</span>
            <select id="caseSelect" class="control" aria-label="大文字小文字の扱い">
              <option value="strict">区別する</option>
              <option value="ignore">区別しない</option>
            </select>
          </label>

          <label class="field">
            <span class="label">難易度</span>
            <select id="difficultySelect" class="control" aria-label="難易度">
              <option value="easy">やさしい</option>
              <option value="normal" selected>ふつう</option>
              <option value="hard">むずかしい</option>
              <option value="gekimuzu">ゲキムズ</option>
            </select>
          </label>

          <label class="field">
            <span class="label">制限時間</span>
            <select id="timeLimitSelect" class="control" aria-label="制限時間">
              <option value="30">30秒</option>
              <option value="60" selected>60秒</option>
              <option value="90">90秒</option>
              <option value="120">120秒</option>
            </select>
          </label>

          <div class="actions">
            <button id="startBtn" class="btn primary" type="button">開始</button>
            <button id="stopBtn" class="btn warn" type="button" disabled>ストップ</button>
            <button id="nextBtn" class="btn" type="button">次の問題</button>
            <button id="resetBtn" class="btn ghost" type="button">リセット</button>
          </div>
        </div>

        <div id="customArea" class="customArea" hidden>
          <label class="field stretch">
            <span class="label">カスタム問題（ここに貼り付け）</span>
            <textarea
              id="customText"
              class="control textarea"
              rows="4"
              spellcheck="false"
              aria-label="カスタム問題文"
              placeholder="例: The quick brown fox jumps over the lazy dog."
            ></textarea>
          </label>
          <p class="hint">
            開始を押すと、上の文章がそのまま問題になります（改行も含む）。
          </p>
        </div>
      </section>

      <section class="panel" aria-label="問題">
        <div class="status">
          <div class="metric">
            <span class="metricLabel">時間</span>
            <span id="timeValue" class="metricValue">0.0s</span>
          </div>
          <div class="metric">
            <span class="metricLabel">残り</span>
            <span id="remainValue" class="metricValue">60.0s</span>
          </div>
          <div class="metric">
            <span class="metricLabel">正解</span>
            <span id="correctValue" class="metricValue">0</span>
          </div>
          <div class="metric">
            <span class="metricLabel">ミス</span>
            <span id="wrongValue" class="metricValue">0</span>
          </div>
          <div class="metric">
            <span class="metricLabel">正確率</span>
            <span id="accuracyValue" class="metricValue">0%</span>
          </div>
        </div>

        <div class="targetWrap" id="targetWrap" aria-label="問題文">
          <p id="target" class="target" aria-live="polite"></p>
          <input
            id="typingInput"
            class="typingInput"
            type="text"
            inputmode="latin"
            lang="en"
            autocapitalize="off"
            autocorrect="off"
            autocomplete="off"
            aria-hidden="true"
          />
        </div>

        <div id="result" class="result" hidden aria-label="結果">
          <h2 class="resultTitle">結果</h2>
          <div class="resultGrid">
            <div class="resultItem">
              <span class="resultLabel">時間</span>
              <span id="rTime" class="resultValue">0.0s</span>
            </div>
            <div class="resultItem">
              <span class="resultLabel">WPM</span>
              <span id="rWpm" class="resultValue">0</span>
            </div>
            <div class="resultItem">
              <span class="resultLabel">CPM</span>
              <span id="rCpm" class="resultValue">0</span>
            </div>
            <div class="resultItem">
              <span class="resultLabel">正確率</span>
              <span id="rAcc" class="resultValue">0%</span>
            </div>
          </div>
          <p class="hint">
            Enterで次の問題へ。難易度を上げたい場合は「コード」やカスタムで練習します。
          </p>
        </div>
      </section>

      <footer class="footer">
        <p class="hint">
          仕組みの解説は「explain.txt」を参照。問題文の追加は script.js の TEXT_SETS を編集。
        </p>
      </footer>
    </main>

    <script src="./script.js"></script>
  </body>
</html>

